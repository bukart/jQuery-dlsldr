(function(a){function e(){var e=b+(new Date).getTime()+Math.round((new Date).getTime()*Math.random());var f=this;var g={container:{classesToAdd:"",width:"auto",height:"auto",style:{}},headers:{classesToAdd:"",classesToAddActive:"dlsldr-active",selector:"> dt",width:"auto",height:"auto",gapSize:10,clickable:true,draggable:true,touchdrag:true,snapping:true,snappingDistance:25,centerAfterDragging:true,centerAfterTouchDrag:true,preventClickEvent:true,preventDragEvent:true,preventTouchEvent:false,style:{}},databoxes:{classesToAdd:"",classesToAddActive:"dlsldr-active",selector:"> dd",width:"auto",height:"auto",draggable:true,touchdrag:true,snapping:true,snappingDistance:25,centerAfterDragging:true,centerAfterTouchDrag:true,preventDragEvent:true,preventTouchEvent:false,style:{}},animation:{duration:"",easing:"swing"}};var h={container:{classToAdd:"dlsldr-container",style:{overflow:"hidden",position:"relative"},styleBeforeScan:{}},headers:{classToAdd:"dlsldr-header",style:{position:"absolute",top:"0",left:"0"},styleBeforeScan:{"float":"left"}},databoxes:{classToAdd:"dlsldr-databox",style:{position:"absolute"},styleBeforeScan:{"float":"left"}}};var i=this.methods={"public":{},"private":{}};var j={$container:null,$headers:null,$databoxes:null};var k={headers:[],databoxes:[],pos:0,draggingHeader:{active:false,startEvent:null,initialPos:0,dragged:false},touchingHeader:{active:false,startEvent:null,initialPos:0,dragged:false},draggingDatabox:{active:false,startEvent:null,initialPos:0,dragged:false,maxDist:0},touchingDatabox:{active:false,startEvent:null,initialPos:0,dragged:false,maxDist:0},activated_setPos:false};var l=function(a){var b={$container:"container",$headers:"headers",$databoxes:"databoxes"};return b[a]?b[a]:false};var m=function(a){var b={container:"$container",headers:"$headers",databoxes:"$databoxes"};return b[a]?b[a]:false};var n=function(a){return l(a)!=false};var o=function(a){return m(a)!=false};var p=function(a,b){if(o(a)){var c=j[m(a)].outerWidth();var d=j[m(a)].width();var e=c-d;j[m(a)].width((h[a]._applied.width=b)-e)}};var q=function(a){return o(a)?h[a]._applied.width:false};var r=function(a,b){if(o(a)){var c=j[m(a)].outerHeight();var d=j[m(a)].height();var e=c-d;j[m(a)].height((h[a]._applied.height=b)-e)}};var s=function(a){return o(a)?h[a]._applied.height:false};var t=function(a,b){if(o(a)){j[m(a)].maxWidth(h[a]._applied.size.maxWidth=b)}};var u=function(a){return o(a)?h[a]._applied.size.maxWidth:false};var v=function(a,b){if(o(a)){j[m(a)].maxHeight(h[a]._applied.size.maxHeight=b)}};var w=function(a){return o(a)?h[a]._applied.size.maxHeight:false};var x=function(a,b){if(o(a)){z(a,b);h[a]._applied.style=A(a)}};var y=function(a){return o(a)?h[a]._applied.style:false};var z=function(a,b){if(o(a)){if("string"==typeof b){j[m(a)].attr("style",b)}else if("object"==typeof b){j[m(a)].css(b)}}};var A=function(a){if(o(a)){var b=j[m(a)].attr("style")}return b?b:""};var B=function(a){if(o(a)){h[a]._applied.style=A(a)}};var C=function(a,b){if(o(a)){B(a);z(a,b)}};var D=function(a){if(o(a)){x(a,y(a))}};var E=function(a){p("container",a)};var F=function(){return q("container")};var G=function(a){r("container",a)};var H=function(){return s("container")};var I=function(a){x("container",a)};var J=function(){return y("container")};var K=function(a){z("container",a)};var L=function(){return A("container")};var M=function(){B("container")};var N=function(a){C("container",a)};var O=function(){D("container")};var P=function(a){p("headers",a)};var Q=function(){return q("headers")};var R=function(a){r("headers",a)};var S=function(){return s("headers")};var T=function(a){t("headers",a)};var U=function(){return u("headers")};var V=function(a){v("headers",a)};var W=function(){return w("headers")};var X=function(a){x("headers")};var Y=function(){return y("headers")};var Z=function(a){z("headers",a)};var _=function(){return A("headers")};var ab=function(){B("headers")};var bb=function(a){C("headers",a)};var cb=function(){D("headers")};var db=function(b){j.$headers.each(function(c){if("undefined"!=typeof b[c]){a(this).width(b[c])}});h.headers._applied.widths=b};var eb=function(a){if("undefined"==typeof a){return h.headers._applied.widths}else{return eb()[a]}};var fb=function(a){p("databoxes",a)};var gb=function(){return q("databoxes")};var hb=function(a){r("databoxes",a)};var ib=function(){return s("databoxes")};var jb=function(a){t("databoxes",a)};var kb=function(){return u("databoxes")};var lb=function(a){v("databoxes",a)};var mb=function(){return w("databoxes")};var nb=function(a){x("databoxes",a)};var ob=function(){return y("databoxes")};var pb=function(a){z("databoxes",a)};var qb=function(){return A("databoxes")};var rb=function(){B("databoxes")};var sb=function(a){C("databoxes",a)};var tb=function(){D("databoxes")};var ub=function(a){return a.split(/[^\w\d\.\-\_]+/)};var vb=function(a){if("number"==typeof a){return a}var b=a.replace(/^([+-]?\d+(?:\.\d+)?)px$/,"");var c=parseInt(b,10);if(c==b){return c}return false};var wb=function(b,c){if(o(b)){var d=m(b);c=c?c:j[d];var e={count:c.size(),size:{minWidth:false,maxWidth:false,minHeight:false,maxHeight:false},items:[]};c.each(function(b){var c=a(this);var d=c.outerWidth();var f=c.outerHeight();if(false===e.size.minWidth||e.size.minWidth>d){e.size.minWidth=d}if(false===e.size.maxWidth||e.size.maxWidth<d){e.size.maxWidth=d}if(false===e.size.minHeight||e.size.minHeight>f){e.size.minHeight=f}if(false===e.size.maxHeight||e.size.maxHeight<f){e.size.maxHeight=f}e.items[b]={size:{width:d,height:f}}});return e}return false};var xb=function(c){j.$container=c;j.$headers=a(h.headers.selector,j.$container);j.$databoxes=a(h.databoxes.selector,j.$container);for(var d in j){j[d].data(b,f)}};var yb=function(){var a=["container","headers","databoxes"];for(var b in a){var c=a[b];j[m(c)].css(h[c].style)}};var zb=function(){var a=["container","headers","databoxes"];for(var b in a){var c=a[b];var d=m(c);var e=ub(h[c].classesToAdd).join(" ");j[d].addClass(e+" "+h[c].classToAdd)}};var Ab=function(b){var c=["container","headers","databoxes"];h=a.extend(true,{},g,b,h);for(var d in c){var e=c[d];h[e]._applied={classesToAdd:null,style:null,width:null,height:null,size:null};if("container"!=e){h[e]._applied["classesToAddActive"]=null}}};var Bb=function(b,c){if(o(b)){C(b,h[b].styleBeforeScan);var d=m(b);var e={classesToAdd:ub(h[b].classesToAdd),width:h[b].width,height:h[b].height,size:{width:j[d].outerWidth(),height:j[d].outerHeight()}};if("function"==typeof c){e=c.call(this,b,e)}a.extend(true,h[b]._applied,e);D(b)}};var Cb=function(b,c){if(o(b)){var e=m(b);var f=wb(b);var g={count:f.count,classesToAddActive:ub(h[b].classesToAddActive),size:f.size};delete c.size.width;delete c.size.height;k[b]=f.items;j[e].each(function(c){var e={num:c,data:k[b][c]};a(this).data(d,e)});return a.extend(true,c,g)}};var Db=function(a){var b=vb(h.container.width);if(false!==b){E(b)}else if(!a&&"auto"==h.container.width){E(Math.max(U(),kb()))}var b=vb(h.container.height);if(false!==b){G(b)}else if(!a&&"auto"==h.container.height){G(W()+mb())}};var Eb=function(a){var b=vb(h.headers.width);if(false!==b){P(b)}else if("max"==h.headers.width){P(U())}else if(!a&&"auto"==h.headers.width){var c=[];for(var d in k.headers){c.push(k.headers[d].size.width)}db(c)}var b=vb(h.headers.height);if(false!==b){R(b)}else if("max"==h.headers.height){R(W())}else if(!a&&"auto"==h.headers.height){R(W())}};var Fb=function(a){var b=vb(h.databoxes.width);if(false!==b){fb(b)}else if("max"==h.databoxes.width){fb(kb())}else if(!a&&"auto"==h.databoxes.width){fb(F())}var b=vb(h.databoxes.height);if(false!==b){hb(b)}else if("max"==h.databoxes.height){hb(mb())}else if(!a&&"auto"==h.databoxes.height){hb(H()-S())}};var Gb=function(){Eb(true);Fb(true);Db();Eb();Fb()};var Hb=function(){var b="headers";var c=m(b);j[c].each(function(c){var d=a(this);var e=k[b][c].size.width;d.css({top:0,left:F()*(c+.5)-e/2})});var b="databoxes";var c=m(b);j[c].each(function(c){var d=a(this);var e=k[b][c].size.width;d.css({top:S(),left:F()*c})})};var Ib=function(){var c=false;var d=false;if(h.headers.clickable){j.$headers.unbind("click"+b).bind("click"+b,Kb)}if(h.headers.draggable){j.$headers.unbind("mousedown"+b).bind("mousedown"+b,Mb);c=true}if(h.headers.draggable&&h.headers.touchdrag){j.$headers.unbind("touchstart"+b).bind("touchstart"+b,Nb);c=true}if(h.databoxes.draggable){j.$databoxes.unbind("mousedown"+b).bind("mousedown"+b,Ob);a("*",j.$databoxes).unbind("click"+b).bind("click"+b,Lb);c=true}if(h.databoxes.draggable&&h.databoxes.touchdrag){j.$databoxes.unbind("touchstart"+b).bind("touchstart"+b,Pb);a("*",j.$databoxes).unbind("click"+b).bind("click"+b,Lb);d=true}if(c){var f=a(document);f.unbind("mouseup"+e).bind("mouseup"+e,Qb);f.unbind("mousemove"+e).bind("mousemove"+e,Sb)}if(d){var f=a(document);f.unbind("touchend"+e).unbind("touchcancel"+e).bind("touchend"+e,Rb).bind("touchcancel"+e,Rb);f.unbind("touchmove"+e).bind("touchmove"+e,Tb)}j.$container.unbind("scroll"+b).bind("scroll"+b,Jb)};var Jb=function(b){Vb(a(this).scrollLeft())};var Kb=function(b){if(k.draggingHeader.dragged){return}var c=a(this).data(d);cc(c.num,true);if(h.headers.preventClickEvent){b.preventDefault()}};var Lb=function(a){if(!k.draggingDatabox.dragged){return}if(h.databoxes.preventDragEvent){a.preventDefault()}};var Mb=function(a){k.draggingHeader.active=true;k.draggingHeader.startEvent=a;k.draggingHeader.initialPos=Wb();k.draggingHeader.dragged=false;if(h.headers.preventDragEvent){a.preventDefault()}};var Nb=function(a){a.screenX=a.originalEvent.touches[0].screenX;a.screenY=a.originalEvent.touches[0].screenY;k.touchingHeader.active=true;k.touchingHeader.startEvent=a;k.touchingHeader.initialPos=Wb();k.touchingHeader.dragged=false;if(h.headers.preventTouchEvent){a.preventDefault()}};var Ob=function(a){k.draggingDatabox.active=true;k.draggingDatabox.startEvent=a;k.draggingDatabox.initialPos=Wb();k.draggingDatabox.dragged=false;if(h.databoxes.preventDragEvent){a.preventDefault()}};var Pb=function(a){a.screenX=a.originalEvent.touches[0].screenX;a.screenY=a.originalEvent.touches[0].screenY;k.touchingDatabox.active=true;k.touchingDatabox.startEvent=a;k.touchingDatabox.initialPos=Wb();k.touchingDatabox.dragged=false;if(h.databoxes.preventTouchEvent){a.preventDefault()}};var Qb=function(a){var b=false;if(k.draggingHeader.active){k.draggingHeader.active=false;if(h.headers.preventDragEvent){b=true}if(h.headers.centerAfterDragging){var c=dc(true)-dc();if(0!=c){cc(dc(),true)}}}if(k.draggingDatabox.active){k.draggingDatabox.active=false;if(h.databoxes.preventDragEvent){b=true}if(h.databoxes.centerAfterDragging){var c=dc(true)-dc();if(0!=c){cc(dc(),true)}}}if(b){a.preventDefault()}};var Rb=function(a){var b=false;if(k.touchingHeader.active){k.touchingHeader.active=false;if(h.headers.preventTouchEvent){b=true}if(h.headers.centerAfterTouchDrag){var c=dc(true)-dc();if(0!=c){cc(dc(),true)}}}if(k.touchingDatabox.active){k.touchingDatabox.active=false;if(h.databoxes.preventTouchEvent){b=true}if(h.databoxes.centerAfterTouchDrag){var c=dc(true)-dc();if(0!=c){cc(dc(),true)}}}if(b){a.preventDefault()}};var Sb=function(a){if("undefined"==typeof a.screenX){a.screenX=a.originalEvent.touches[0].screenX;a.screenY=a.originalEvent.touches[0].screenY}var b=false;if(k.draggingHeader.active){var c=k.draggingHeader.startEvent.screenX-a.screenX;if(0!=c){if(!k.draggingHeader.dragged){Mb(a)}k.draggingHeader.dragged=true;Xb()}if(h.headers.snapping){var d=F();var e=d/2;var f=(k.draggingHeader.initialPos+c+e)%d-e;if(Math.abs(f)<=h.headers.snappingDistance){c-=f}}Vb(k.draggingHeader.initialPos+c);if(h.headers.preventDragEvent){b=true}}if(k.draggingDatabox.active){var g=k.draggingDatabox.startEvent.screenY-a.screenY;var c=k.draggingDatabox.startEvent.screenX-a.screenX;if(0!=c){if(!k.draggingDatabox.dragged){Ob(a)}k.draggingDatabox.dragged=true;k.draggingDatabox.maxDist=0;Xb()}k.draggingDatabox.maxDist=Math.max(Math.abs(c),k.draggingDatabox.maxDist);if(10<Math.abs(g)&&10>k.draggingDatabox.maxDist){k.draggingDatabox.active=false}if(h.headers.snapping){var d=F();var e=d/2;var f=(k.draggingDatabox.initialPos+c+e)%d-e;if(Math.abs(f)<=h.databoxes.snappingDistance){c-=f}}Vb(k.draggingDatabox.initialPos+c);if(h.databoxes.preventDragEvent){b=true}}if(b){a.preventDefault()}};var Tb=function(a){a.screenX=a.originalEvent.touches[0].screenX;a.screenY=a.originalEvent.touches[0].screenY;var b=false;if(k.touchingHeader.active){var c=k.touchingHeader.startEvent.screenX-a.screenX;if(0!=c){k.touchingHeader.dragged=true;Xb()}if(h.headers.snapping){var d=F();var e=d/2;var f=(k.touchingHeader.initialPos+c+e)%d-e;if(Math.abs(f)<=h.headers.snappingDistance){c-=f}}Vb(k.touchingHeader.initialPos+c);b=true}if(k.touchingDatabox.active){var g=k.touchingDatabox.startEvent.screenY-a.screenY;var c=k.touchingDatabox.startEvent.screenX-a.screenX;if(0!=c){k.touchingDatabox.dragged=true;k.touchingDatabox.maxDist=0;Xb()}k.touchingDatabox.maxDist=Math.max(Math.abs(c),k.touchingDatabox.maxDist);if(10<Math.abs(g)&&10>k.touchingDatabox.maxDist){k.touchingDatabox.active=false}if(h.headers.snapping){var d=F();var e=d/2;var f=(k.touchingDatabox.initialPos+c+e)%d-e;if(Math.abs(f)<=h.databoxes.snappingDistance){c-=f}}Vb(k.touchingDatabox.initialPos+c);b=true}if(b){a.preventDefault()}};var Ub=i.public.init=function(a){var b=this;Ab(a);xb(b);yb();Bb("container");Db(true);Bb("headers",Cb);Bb("databoxes",Cb);zb();yb();Gb();Hb();Ib();cc(0);return b};var Vb=i.public.setPos=function(a,b,d,e){if(k.activated_setPos||"number"!=typeof a){return}b="boolean"!=typeof b?false:b;if(b){e="string"!=typeof e?h.animation.easing:e;d="number"!=typeof d&&"string"!=typeof d?h.animation.duration:d;Xb();var f=c+"-rel";var g={};g[f]=0;var i={};i[f]=1;var l=Wb();j.$container.css(g).animate(i,{duration:d,easing:e,step:function(b,c){Vb(l+(a-l)*b)}});return}var m=0;var n=F()*(k.headers.length-1);a=Math.min(n,Math.max(m,a));k.activated_setPos=true;k.pos=a;var o=a+F();var p=Math.round(a/F());p=0<=p&&k.headers.length>p?p:false;var q=false!==p&&0<=p&&k.headers.length-1>p?p+1:false;var r=false!==p&&0<p&&k.headers.length>p?p-1:false;var s={active:false!==p?j.$headers.eq(p):false,prev:false!==r?j.$headers.eq(r):false,next:false!==q?j.$headers.eq(q):false};var t={active:false!==p?k.headers[p].size.width:0,prev:false!==r?k.headers[r].size.width:0,next:false!==q?k.headers[q].size.width:0};var u={active:{$:false,width:0,pos:false,min:false,max:false,deltamin:false,deltamax:false},prev:{$:false,width:0,pos:false,min:false,max:false,deltamin:false,deltamax:false},next:{$:false,width:0,pos:false,min:false,max:false,deltamin:false,deltamax:false}};if(false!==p){u.active.$=j.$headers.eq(p);u.active.width=k.headers[p].size.width;u.active.pos=F()*(p+.5);u.active.min=u.active.pos-t.active/2;u.active.max=u.active.pos+t.active/2;u.active.deltamin=a-u.active.min;u.active.deltamax=u.active.max-o}if(false!==r){u.prev.$=j.$headers.eq(r);u.prev.width=k.headers[r].size.width;u.prev.pos=F()*(r+.5);u.prev.min=u.prev.pos-t.prev/2;u.prev.max=u.prev.pos+t.prev/2;u.prev.deltamin=a-u.prev.min;u.prev.deltamax=u.prev.max-o}if(false!==q){u.next.$=j.$headers.eq(q);u.next.width=k.headers[q].size.width;u.next.pos=F()*(q+.5);u.next.min=u.next.pos-t.next/2;u.next.max=u.next.pos+t.next/2;u.next.deltamin=a-u.next.min;u.next.deltamax=u.next.max-o}var v=u.active.pos;if(0<u.active.deltamin||0<u.active.deltamax){if(0<u.active.deltamin){var w=(u.active.width+u.next.width+h.headers.gapSize-F())/2;var x=0<w?u.active.deltamin<w?0:u.active.deltamin-w:u.active.deltamin;v=u.active.pos+x}else if(0<u.active.deltamax){var w=(u.active.width+u.prev.width+h.headers.gapSize-F())/2;var x=0<w?u.active.deltamax<w?0:u.active.deltamax-w:u.active.deltamax;v=u.active.pos-x}}var y=o-(v+u.active.width/2)-h.headers.gapSize;var z=v-u.active.width/2-a-h.headers.gapSize;var A=u.next.pos;if(0<u.next.deltamax){var x=u.next.deltamax-(y<u.next.width?u.next.width-y:0);A=u.next.pos-x}var B=u.prev.pos;if(0<u.prev.deltamin){var x=u.prev.deltamin-(z<u.prev.width?u.prev.width-z:0);B=u.prev.pos+x}if(u.active.$){u.active.$.css({left:v-u.active.width/2})}if(u.next.$){u.next.$.css({left:A-u.next.width/2})}if(u.prev.$){u.prev.$.css({left:B-u.prev.width/2})}j.$container.scrollLeft(a);var C=j.$headers.not(u.active.$);var D=h.headers._applied.classesToAddActive.join(" ");C.removeClass(D);u.active.$.addClass(D);k.activated_setPos=false};var Wb=i.public.getPos=function(){return k.pos};var Xb=i.public.stop=function(){j.$container.stop()};var Yb=i.public.count=function(){return Math.max(k.headers.length,k.databoxes.length)};var Zb=i.public.maxPos=function(){return(Yb()-1)*F()};var $b=i.public.goToFirst=function(a,b,c){cc(0,a,b,c)};var _b=i.public.goToLast=function(a,b,c){cc(Yb()-1,a,b,c)};var ac=i.public.goToPrev=function(a,b,c,d){cc(dc(a)-1,b,c,d)};var bc=i.public.goToNext=function(a,b,c,d){cc(dc(a)+1,b,c,d)};var cc=i.public.goTo=function(a,b,c,d){if("number"!=typeof a){return}Vb(F()*a,b,c,d)};var dc=i.public.getCurrentNum=function(a){var b=Wb()/F();if("boolean"!=typeof a||!a){b=Math.round(b)}return b};var ec=i.public.getDefaultOptions=function(){return g};var fc=i.public.getSettings=function(){return h}}var b=".dlsldr";var c="dlsldr";var d=b+".data";a.fn.dlsldr=function(d){var f=this;var g=null;var h=arguments;f.each(function(){var f=a(this);var i=f.data(b);if("undefined"==typeof i){i=new e;f.data(b,i)}if(i.methods.public[d]){var j=i.methods.public[d].apply(f,Array.prototype.slice.call(h,1));g=null!==g?g:j}else if("object"==typeof d||!d){var j=i.methods.public.init.apply(f,h);g=null!==g?g:j}else{a.error("Method "+d+" does not exist on jQuery."+c)}});return g}})(jQuery)